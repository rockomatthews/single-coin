const { Pool } = require("pg"); require("dotenv").config(); const pool = new Pool({ connectionString: process.env.DATABASE_URL, ssl: process.env.NODE_ENV === "production" ? { rejectUnauthorized: false } : false }); async function cleanupTestData() { console.log("üßπ Starting cleanup..."); const client = await pool.connect(); try { const result = await client.query("DELETE FROM tokens WHERE name LIKE '%Test%' OR symbol LIKE '%TEST%' OR image LIKE '%test.com%' RETURNING *;"); console.log(`üóëÔ∏è Deleted ${result.rowCount} test tokens`); result.rows.forEach(token => console.log(`  - ${token.name} (${token.symbol})`)); } catch (error) { console.error("‚ùå Error:", error); } finally { client.release(); await pool.end(); } } cleanupTestData();
